2023-03-04 09:29:26.780 [DEBU] {ce1b0d90201349176386a816d284f765} [  3 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 09:29:26.788 [DEBU] {ce1b0d90201349176386a816d284f765} [  5 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 09:29:26.811 [DEBU] {ce1b0d90201349176386a816d284f765} [ 23 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 09:29:26.907 [DEBU] {ce1b0d90201349176386a816d284f765} [ 96 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 09:29:26.910 [ERRO] {ce1b0d90201349176386a816d284f765} [  2 ms] [default] [recdb] [rows:0  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity1', '个人', 'issuer_identity1', 'subject1',  '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number1','可用');
Error: Error 1136: Column count doesn't match value count at row 1
Stack:
1.  github.com/gogf/gf/v2/database/gdb.(*Core).writeSqlToLogger
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core.go:671
2.  github.com/gogf/gf/v2/database/gdb.(*Core).DoCommit
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:279
3.  github.com/gogf/gf/v2/database/gdb.(*Core).DoExec
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:136
4.  github.com/gogf/gf/v2/database/gdb.(*Core).Exec
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:89
5.  main.(*databaseServiceImpl).ImportDBTable
    /home/sqf/workspace/go-playground/cmd/gofrome-dao-scanlist/database.go:48
6.  main.main
    /home/sqf/workspace/go-playground/cmd/gofrome-dao-scanlist/main.go:14

2023-03-04 09:30:34.761 [DEBU] {a718b465301349176cfc3b1efdb253c3} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 09:30:34.770 [DEBU] {a718b465301349176cfc3b1efdb253c3} [  5 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 09:30:34.822 [DEBU] {a718b465301349176cfc3b1efdb253c3} [ 52 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 09:30:34.906 [DEBU] {a718b465301349176cfc3b1efdb253c3} [ 84 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 09:30:34.927 [DEBU] {a718b465301349176cfc3b1efdb253c3} [ 20 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity1', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number1','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 09:30:34.941 [DEBU] {a718b465301349176cfc3b1efdb253c3} [ 14 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity2', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number2','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 09:30:34.962 [DEBU] {a718b465301349176cfc3b1efdb253c3} [ 21 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 09:30:35.042 [DEBU] {a718b465301349176cfc3b1efdb253c3} [ 80 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 09:30:35.044 [ERRO] {a718b465301349176cfc3b1efdb253c3} [  2 ms] [default] [recdb] [rows:0  ] INSERT INTO `test_cert_deviceId` VALUES (1, 'identity1', '个人', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
Error: Error 1136: Column count doesn't match value count at row 1
Stack:
1.  github.com/gogf/gf/v2/database/gdb.(*Core).writeSqlToLogger
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core.go:671
2.  github.com/gogf/gf/v2/database/gdb.(*Core).DoCommit
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:279
3.  github.com/gogf/gf/v2/database/gdb.(*Core).DoExec
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:136
4.  github.com/gogf/gf/v2/database/gdb.(*Core).Exec
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:89
5.  main.(*databaseServiceImpl).ImportDBTable
    /home/sqf/workspace/go-playground/cmd/gofrome-dao-scanlist/database.go:48
6.  main.main
    /home/sqf/workspace/go-playground/cmd/gofrome-dao-scanlist/main.go:14

2023-03-04 09:31:01.840 [DEBU] {6b52a1b336134917e367035205dcd73d} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 09:31:01.843 [DEBU] {6b52a1b336134917e367035205dcd73d} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 09:31:01.885 [DEBU] {6b52a1b336134917e367035205dcd73d} [ 41 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 09:31:01.977 [DEBU] {6b52a1b336134917e367035205dcd73d} [ 92 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 09:31:01.987 [DEBU] {6b52a1b336134917e367035205dcd73d} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity1', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number1','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 09:31:02.000 [DEBU] {6b52a1b336134917e367035205dcd73d} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity2', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number2','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 09:31:02.028 [DEBU] {6b52a1b336134917e367035205dcd73d} [ 28 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 09:31:02.092 [DEBU] {6b52a1b336134917e367035205dcd73d} [ 63 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 09:31:02.104 [DEBU] {6b52a1b336134917e367035205dcd73d} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 'identity1', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 09:31:02.117 [DEBU] {6b52a1b336134917e367035205dcd73d} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 'identity1', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 09:31:02.128 [DEBU] {6b52a1b336134917e367035205dcd73d} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 'identity1', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 09:31:02.136 [DEBU] {6b52a1b336134917e367035205dcd73d} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 'identity2', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 09:31:02.137 [DEBU] {6b52a1b336134917e367035205dcd73d} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 09:44:48.473 [DEBU] {6ff3bd29f7134917fd56ab0ff38407bc} [ 13 ms] [default] [recdb] [rows:5  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 09:44:48.481 [DEBU] {6ff3bd29f7134917fd56ab0ff38407bc} [  5 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 09:45:34.154 [DEBU] {7ddab3cc0114491707e33b7619431fc7} [ 11 ms] [default] [recdb] [rows:5  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 09:45:34.158 [DEBU] {7ddab3cc0114491707e33b7619431fc7} [  1 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 10:03:03.136 [DEBU] {99c1cd09f6144917ad48df1fef9c6b22} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 10:03:03.137 [DEBU] {99c1cd09f6144917ad48df1fef9c6b22} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 10:03:03.185 [DEBU] {99c1cd09f6144917ad48df1fef9c6b22} [ 43 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 10:03:03.275 [DEBU] {99c1cd09f6144917ad48df1fef9c6b22} [ 90 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 10:03:03.302 [DEBU] {99c1cd09f6144917ad48df1fef9c6b22} [ 26 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity1', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number1','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:03:03.318 [DEBU] {99c1cd09f6144917ad48df1fef9c6b22} [ 16 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity2', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number2','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:03:03.385 [DEBU] {99c1cd09f6144917ad48df1fef9c6b22} [ 67 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 10:03:03.459 [DEBU] {99c1cd09f6144917ad48df1fef9c6b22} [ 73 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 10:03:03.477 [DEBU] {99c1cd09f6144917ad48df1fef9c6b22} [ 17 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 'identity1', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:03:03.496 [DEBU] {99c1cd09f6144917ad48df1fef9c6b22} [ 19 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 'identity1', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:03:03.512 [DEBU] {99c1cd09f6144917ad48df1fef9c6b22} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 'identity1', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:03:03.527 [DEBU] {99c1cd09f6144917ad48df1fef9c6b22} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 'identity2', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:03:03.528 [DEBU] {99c1cd09f6144917ad48df1fef9c6b22} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 10:03:03.531 [DEBU] {56ed8321f6144917ae48df1fe21bf01f} [  2 ms] [default] [recdb] [rows:5  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 10:03:03.532 [DEBU] {0689b221f6144917af48df1fa04cc338} [  0 ms] [default] [recdb] [rows:4  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId`
2023-03-04 10:03:52.627 [DEBU] {e872d48f0115491744e8af4dff247cf9} [  1 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 10:03:52.631 [DEBU] {e872d48f0115491744e8af4dff247cf9} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 10:03:52.687 [DEBU] {e872d48f0115491744e8af4dff247cf9} [ 56 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 10:03:52.800 [DEBU] {e872d48f0115491744e8af4dff247cf9} [113 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 10:03:52.823 [DEBU] {e872d48f0115491744e8af4dff247cf9} [ 22 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity1', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number1','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:03:52.834 [DEBU] {e872d48f0115491744e8af4dff247cf9} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity2', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number2','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:03:52.888 [DEBU] {e872d48f0115491744e8af4dff247cf9} [ 54 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 10:03:52.969 [DEBU] {e872d48f0115491744e8af4dff247cf9} [ 80 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 10:03:52.979 [DEBU] {e872d48f0115491744e8af4dff247cf9} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 'identity1', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:03:53.004 [DEBU] {e872d48f0115491744e8af4dff247cf9} [ 24 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 'identity1', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:03:53.018 [DEBU] {e872d48f0115491744e8af4dff247cf9} [ 14 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 'identity1', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:03:53.037 [DEBU] {e872d48f0115491744e8af4dff247cf9} [ 19 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 'identity2', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:03:53.038 [DEBU] {e872d48f0115491744e8af4dff247cf9} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 10:03:53.049 [DEBU] {bb4886a80115491745e8af4dba05c752} [ 11 ms] [default] [recdb] [rows:5  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 10:03:53.051 [DEBU] {ef6833a90115491746e8af4dca853c1b} [  1 ms] [default] [recdb] [rows:4  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId`
2023-03-04 10:06:16.138 [DEBU] {401d82f922154917e152a61dddac5594} [  4 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 10:06:16.142 [DEBU] {401d82f922154917e152a61dddac5594} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 10:06:16.173 [DEBU] {401d82f922154917e152a61dddac5594} [ 31 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 10:06:16.308 [DEBU] {401d82f922154917e152a61dddac5594} [133 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 10:06:16.335 [DEBU] {401d82f922154917e152a61dddac5594} [ 27 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity1', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number1','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:06:16.352 [DEBU] {401d82f922154917e152a61dddac5594} [ 17 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity2', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number2','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:06:16.417 [DEBU] {401d82f922154917e152a61dddac5594} [ 65 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 10:06:16.493 [DEBU] {401d82f922154917e152a61dddac5594} [ 76 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 10:06:16.504 [DEBU] {401d82f922154917e152a61dddac5594} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 'identity1', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:06:16.523 [DEBU] {401d82f922154917e152a61dddac5594} [ 19 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 'identity1', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:06:16.531 [DEBU] {401d82f922154917e152a61dddac5594} [  7 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 'identity1', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:06:16.547 [DEBU] {401d82f922154917e152a61dddac5594} [ 16 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 'identity2', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:06:16.548 [DEBU] {401d82f922154917e152a61dddac5594} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 10:06:37.004 [DEBU] {414d58d527154917fb8ed356f5d4ece2} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 10:06:37.005 [DEBU] {414d58d527154917fb8ed356f5d4ece2} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 10:06:37.065 [DEBU] {414d58d527154917fb8ed356f5d4ece2} [ 59 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 10:06:37.157 [DEBU] {414d58d527154917fb8ed356f5d4ece2} [ 87 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 10:06:37.188 [DEBU] {414d58d527154917fb8ed356f5d4ece2} [ 31 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity1', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number1','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:06:37.476 [DEBU] {414d58d527154917fb8ed356f5d4ece2} [287 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity2', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number2','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:06:37.598 [DEBU] {414d58d527154917fb8ed356f5d4ece2} [122 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 10:06:37.668 [DEBU] {414d58d527154917fb8ed356f5d4ece2} [ 70 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 10:06:37.679 [DEBU] {414d58d527154917fb8ed356f5d4ece2} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 'identity1', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:06:37.689 [DEBU] {414d58d527154917fb8ed356f5d4ece2} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 'identity1', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:06:37.703 [DEBU] {414d58d527154917fb8ed356f5d4ece2} [ 14 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 'identity1', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:06:37.718 [DEBU] {414d58d527154917fb8ed356f5d4ece2} [ 14 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 'identity2', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:06:37.718 [DEBU] {414d58d527154917fb8ed356f5d4ece2} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 10:07:42.721 [DEBU] {42ea4a22371549175084d8090f3b3e78} [  3 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 10:07:42.721 [DEBU] {42ea4a22371549175084d8090f3b3e78} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 10:07:42.801 [DEBU] {42ea4a22371549175084d8090f3b3e78} [ 80 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 10:07:42.897 [DEBU] {42ea4a22371549175084d8090f3b3e78} [ 91 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 10:07:42.905 [DEBU] {42ea4a22371549175084d8090f3b3e78} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity1', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number1','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:07:42.913 [DEBU] {42ea4a22371549175084d8090f3b3e78} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity2', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number2','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:07:42.948 [DEBU] {42ea4a22371549175084d8090f3b3e78} [ 35 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 10:07:43.004 [DEBU] {42ea4a22371549175084d8090f3b3e78} [ 55 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 10:07:43.013 [DEBU] {42ea4a22371549175084d8090f3b3e78} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 'identity1', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:07:43.028 [DEBU] {42ea4a22371549175084d8090f3b3e78} [ 14 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 'identity1', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:07:43.041 [DEBU] {42ea4a22371549175084d8090f3b3e78} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 'identity1', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:07:43.050 [DEBU] {42ea4a22371549175084d8090f3b3e78} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 'identity2', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:07:43.051 [DEBU] {42ea4a22371549175084d8090f3b3e78} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 10:07:43.065 [DEBU] {c6af6736371549175184d8097da174a4} [ 13 ms] [default] [recdb] [rows:5  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 10:07:43.066 [DEBU] {65063737371549175284d809a48376c4} [  1 ms] [default] [recdb] [rows:4  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId`
2023-03-04 10:07:43.068 [DEBU] {c2d54337371549175384d809a2e8b6d4} [  2 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 10:07:43.071 [DEBU] {fe706f37371549175484d8093b824834} [  2 ms] [default] [recdb] [rows:2  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info`
2023-03-04 10:11:09.575 [DEBU] {6204d94b67154917a1bd4b0f86d92ff0} [  3 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 10:11:09.580 [DEBU] {6204d94b67154917a1bd4b0f86d92ff0} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 10:11:09.625 [DEBU] {6204d94b67154917a1bd4b0f86d92ff0} [ 44 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 10:11:09.718 [DEBU] {6204d94b67154917a1bd4b0f86d92ff0} [ 93 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 10:11:09.730 [DEBU] {6204d94b67154917a1bd4b0f86d92ff0} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity1', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number1','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:11:09.743 [DEBU] {6204d94b67154917a1bd4b0f86d92ff0} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity2', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number2','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:11:09.781 [DEBU] {6204d94b67154917a1bd4b0f86d92ff0} [ 38 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 10:11:09.844 [DEBU] {6204d94b67154917a1bd4b0f86d92ff0} [ 63 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 10:11:09.874 [DEBU] {6204d94b67154917a1bd4b0f86d92ff0} [ 29 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 'identity1', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:11:09.885 [DEBU] {6204d94b67154917a1bd4b0f86d92ff0} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 'identity1', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:11:09.904 [DEBU] {6204d94b67154917a1bd4b0f86d92ff0} [ 19 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 'identity1', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:11:09.914 [DEBU] {6204d94b67154917a1bd4b0f86d92ff0} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 'identity2', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:11:09.915 [DEBU] {6204d94b67154917a1bd4b0f86d92ff0} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 10:11:09.917 [DEBU] {07c1716067154917a2bd4b0f50ae46a6} [  1 ms] [default] [recdb] [rows:5  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 10:11:09.918 [DEBU] {d6a18b6067154917a3bd4b0f968c30fd} [  1 ms] [default] [recdb] [rows:4  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId`
2023-03-04 10:11:09.920 [DEBU] {1c8f9b6067154917a4bd4b0fe4ca09c0} [  2 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 10:11:09.949 [DEBU] {ecd3bf6067154917a5bd4b0fce140ed2} [ 28 ms] [default] [recdb] [rows:2  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('identity1','identity2')
2023-03-04 10:12:27.233 [DEBU] {281ead60791549170fd88d3ba26ab7f8} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 10:12:27.239 [DEBU] {281ead60791549170fd88d3ba26ab7f8} [  2 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 10:12:27.287 [DEBU] {281ead60791549170fd88d3ba26ab7f8} [ 48 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 10:12:27.361 [DEBU] {281ead60791549170fd88d3ba26ab7f8} [ 74 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 10:12:27.369 [DEBU] {281ead60791549170fd88d3ba26ab7f8} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity1', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number1','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:12:27.389 [DEBU] {281ead60791549170fd88d3ba26ab7f8} [ 19 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity2', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number2','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:12:27.417 [DEBU] {281ead60791549170fd88d3ba26ab7f8} [ 27 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 10:12:27.465 [DEBU] {281ead60791549170fd88d3ba26ab7f8} [ 48 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 10:12:27.473 [DEBU] {281ead60791549170fd88d3ba26ab7f8} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 'identity1', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:12:27.485 [DEBU] {281ead60791549170fd88d3ba26ab7f8} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 'identity1', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:12:27.492 [DEBU] {281ead60791549170fd88d3ba26ab7f8} [  7 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 'identity1', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:12:27.501 [DEBU] {281ead60791549170fd88d3ba26ab7f8} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 'identity2', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:12:27.502 [DEBU] {281ead60791549170fd88d3ba26ab7f8} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 10:12:27.521 [DEBU] {f91300717915491710d88d3bfc8be007} [ 18 ms] [default] [recdb] [rows:5  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 10:12:27.523 [DEBU] {d21620727915491711d88d3bfd0ac2e6} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity1') AND (`deviceId`='deviceId2')
2023-03-04 10:12:27.527 [DEBU] {f32039727915491712d88d3b3bfafef6} [  4 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 10:12:27.531 [DEBU] {b39d7e727915491713d88d3b74d08343} [  3 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('identity1')
2023-03-04 10:18:27.077 [DEBU] {0d470729cd154917c02fd0397be5c0cf} [  3 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 10:18:27.080 [DEBU] {0d470729cd154917c02fd0397be5c0cf} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 10:18:27.112 [DEBU] {0d470729cd154917c02fd0397be5c0cf} [ 32 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 10:18:27.192 [DEBU] {0d470729cd154917c02fd0397be5c0cf} [ 78 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 10:18:27.216 [DEBU] {0d470729cd154917c02fd0397be5c0cf} [ 23 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity1', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:18:27.232 [DEBU] {0d470729cd154917c02fd0397be5c0cf} [ 16 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity1', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number12','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:18:27.241 [DEBU] {0d470729cd154917c02fd0397be5c0cf} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity2', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:18:27.248 [DEBU] {0d470729cd154917c02fd0397be5c0cf} [  7 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity3', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:18:27.283 [DEBU] {0d470729cd154917c02fd0397be5c0cf} [ 34 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 10:18:27.331 [DEBU] {0d470729cd154917c02fd0397be5c0cf} [ 48 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 10:18:27.348 [DEBU] {0d470729cd154917c02fd0397be5c0cf} [ 16 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 'identity1', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:18:27.363 [DEBU] {0d470729cd154917c02fd0397be5c0cf} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 'identity1', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:18:27.373 [DEBU] {0d470729cd154917c02fd0397be5c0cf} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 'identity1', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:18:27.389 [DEBU] {0d470729cd154917c02fd0397be5c0cf} [ 16 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 'identity2', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:18:27.390 [DEBU] {0d470729cd154917c02fd0397be5c0cf} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 10:18:27.393 [DEBU] {6efffc3bcd154917c12fd0398c1677be} [  2 ms] [default] [recdb] [rows:5  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 10:18:27.394 [DEBU] {3f331c3ccd154917c22fd0393b4b9e63} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity1') AND (`deviceId`='deviceId3')
2023-03-04 10:18:27.396 [DEBU] {02be333ccd154917c32fd0397f43ef4c} [  2 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 10:18:27.397 [DEBU] {01624d3ccd154917c42fd03901d1f8f4} [  1 ms] [default] [recdb] [rows:2  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('identity1')
2023-03-04 10:19:48.796 [DEBU] {97c9bc2fe0154917e8d7927a50d22b1d} [  3 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 10:19:48.799 [DEBU] {97c9bc2fe0154917e8d7927a50d22b1d} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 10:19:48.849 [DEBU] {97c9bc2fe0154917e8d7927a50d22b1d} [ 50 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 10:19:48.927 [DEBU] {97c9bc2fe0154917e8d7927a50d22b1d} [ 78 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 10:19:48.942 [DEBU] {97c9bc2fe0154917e8d7927a50d22b1d} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity1', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:19:48.951 [DEBU] {97c9bc2fe0154917e8d7927a50d22b1d} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity1', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number12','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:19:48.961 [DEBU] {97c9bc2fe0154917e8d7927a50d22b1d} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity2', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:19:48.971 [DEBU] {97c9bc2fe0154917e8d7927a50d22b1d} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity3', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:19:49.006 [DEBU] {97c9bc2fe0154917e8d7927a50d22b1d} [ 35 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 10:19:49.074 [DEBU] {97c9bc2fe0154917e8d7927a50d22b1d} [ 67 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 10:19:49.083 [DEBU] {97c9bc2fe0154917e8d7927a50d22b1d} [  7 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 'identity1', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:19:49.091 [DEBU] {97c9bc2fe0154917e8d7927a50d22b1d} [  7 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 'identity1', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:19:49.104 [DEBU] {97c9bc2fe0154917e8d7927a50d22b1d} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 'identity1', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:19:49.126 [DEBU] {97c9bc2fe0154917e8d7927a50d22b1d} [ 22 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 'identity2', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:19:49.127 [DEBU] {97c9bc2fe0154917e8d7927a50d22b1d} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 10:19:49.144 [DEBU] {b898e743e0154917e9d7927aad288140} [ 16 ms] [default] [recdb] [rows:5  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 10:19:49.146 [DEBU] {a5c1e544e0154917ead7927ac87f1b44} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity1') AND (`deviceId`='deviceId3')
2023-03-04 10:19:49.150 [DEBU] {99f70845e0154917ebd7927a187ea9df} [  3 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 10:19:49.153 [DEBU] {41054a45e0154917ecd7927aa8d2c17a} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity1'))
2023-03-04 10:39:52.103 [DEBU] {7cca8e5af8164917458a3e08049cca31} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 10:39:52.106 [DEBU] {7cca8e5af8164917458a3e08049cca31} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 10:39:52.152 [DEBU] {7cca8e5af8164917458a3e08049cca31} [ 45 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 10:39:52.232 [DEBU] {7cca8e5af8164917458a3e08049cca31} [ 80 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 5 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 10:39:52.242 [DEBU] {7cca8e5af8164917458a3e08049cca31} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity1', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:39:52.262 [DEBU] {7cca8e5af8164917458a3e08049cca31} [ 19 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity1', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:39:52.274 [DEBU] {7cca8e5af8164917458a3e08049cca31} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity2', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:39:52.289 [DEBU] {7cca8e5af8164917458a3e08049cca31} [ 14 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity3', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:39:52.321 [DEBU] {7cca8e5af8164917458a3e08049cca31} [ 31 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 10:39:52.391 [DEBU] {7cca8e5af8164917458a3e08049cca31} [ 70 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 10:39:52.393 [ERRO] {7cca8e5af8164917458a3e08049cca31} [  2 ms] [default] [recdb] [rows:0  ] INSERT INTO `test_cert_deviceId` VALUES (1, 'identity1', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
Error: Error 1136: Column count doesn't match value count at row 1
Stack:
1.  github.com/gogf/gf/v2/database/gdb.(*Core).writeSqlToLogger
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core.go:671
2.  github.com/gogf/gf/v2/database/gdb.(*Core).DoCommit
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:279
3.  github.com/gogf/gf/v2/database/gdb.(*Core).DoExec
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:136
4.  github.com/gogf/gf/v2/database/gdb.(*Core).Exec
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:89
5.  main.(*databaseServiceImpl).ImportDBTable
    /home/sqf/workspace/go-playground/cmd/gofrome-dao-scanlist/database.go:48
6.  main.main
    /home/sqf/workspace/go-playground/cmd/gofrome-dao-scanlist/main.go:18

2023-03-04 10:54:17.088 [DEBU] {3d02a0bfc1174917360b18161d81374f} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 10:54:17.090 [DEBU] {3d02a0bfc1174917360b18161d81374f} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 10:54:17.125 [DEBU] {3d02a0bfc1174917360b18161d81374f} [ 33 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 10:54:17.214 [DEBU] {3d02a0bfc1174917360b18161d81374f} [ 89 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 10:54:17.239 [DEBU] {3d02a0bfc1174917360b18161d81374f} [ 25 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:17.248 [DEBU] {3d02a0bfc1174917360b18161d81374f} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:17.258 [DEBU] {3d02a0bfc1174917360b18161d81374f} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:17.272 [DEBU] {3d02a0bfc1174917360b18161d81374f} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:17.282 [DEBU] {3d02a0bfc1174917360b18161d81374f} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:17.302 [DEBU] {3d02a0bfc1174917360b18161d81374f} [ 20 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:17.315 [DEBU] {3d02a0bfc1174917360b18161d81374f} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:17.366 [DEBU] {3d02a0bfc1174917360b18161d81374f} [ 51 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 10:54:17.432 [DEBU] {3d02a0bfc1174917360b18161d81374f} [ 66 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 10:54:17.447 [DEBU] {3d02a0bfc1174917360b18161d81374f} [ 14 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:17.463 [DEBU] {3d02a0bfc1174917360b18161d81374f} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:17.469 [DEBU] {3d02a0bfc1174917360b18161d81374f} [  6 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:17.494 [DEBU] {3d02a0bfc1174917360b18161d81374f} [ 24 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:17.507 [DEBU] {3d02a0bfc1174917360b18161d81374f} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:17.519 [DEBU] {3d02a0bfc1174917360b18161d81374f} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:17.521 [DEBU] {3d02a0bfc1174917360b18161d81374f} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 10:54:17.523 [DEBU] {dab0bed9c1174917370b181614043526} [  2 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 10:54:17.526 [DEBU] {dcbfead9c1174917380b1816cba7856e} [  2 ms] [default] [recdb] [rows:0  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity1') AND (`deviceId`='deviceId3')
2023-03-04 10:54:17.528 [DEBU] {3b100edac1174917390b18163e003df7} [  2 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 10:54:17.545 [DEBU] {876f34dac11749173a0b18163859defc} [ 16 ms] [default] [recdb] [rows:0  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (0=1)
2023-03-04 10:54:47.433 [DEBU] {edba55d0c8174917cfd13224049a9436} [  3 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 10:54:47.441 [DEBU] {edba55d0c8174917cfd13224049a9436} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 10:54:47.502 [DEBU] {edba55d0c8174917cfd13224049a9436} [ 61 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 10:54:47.839 [DEBU] {edba55d0c8174917cfd13224049a9436} [335 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 10:54:47.859 [DEBU] {edba55d0c8174917cfd13224049a9436} [ 20 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:47.870 [DEBU] {edba55d0c8174917cfd13224049a9436} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:47.898 [DEBU] {edba55d0c8174917cfd13224049a9436} [ 27 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:47.917 [DEBU] {edba55d0c8174917cfd13224049a9436} [ 19 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:47.927 [DEBU] {edba55d0c8174917cfd13224049a9436} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:47.944 [DEBU] {edba55d0c8174917cfd13224049a9436} [ 17 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:47.957 [DEBU] {edba55d0c8174917cfd13224049a9436} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:48.013 [DEBU] {edba55d0c8174917cfd13224049a9436} [ 55 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 10:54:48.072 [DEBU] {edba55d0c8174917cfd13224049a9436} [ 59 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 10:54:48.080 [DEBU] {edba55d0c8174917cfd13224049a9436} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:48.095 [DEBU] {edba55d0c8174917cfd13224049a9436} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:48.118 [DEBU] {edba55d0c8174917cfd13224049a9436} [ 23 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:48.129 [DEBU] {edba55d0c8174917cfd13224049a9436} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:48.137 [DEBU] {edba55d0c8174917cfd13224049a9436} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:48.154 [DEBU] {edba55d0c8174917cfd13224049a9436} [ 17 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 10:54:48.155 [DEBU] {edba55d0c8174917cfd13224049a9436} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 10:54:48.158 [DEBU] {884cadfbc8174917d0d132249ac0cc85} [  3 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 10:54:48.161 [DEBU] {0744ddfbc8174917d1d13224651358ae} [  3 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 10:54:48.163 [DEBU] {26b70cfcc8174917d2d132247e0bf53a} [  2 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 10:54:48.165 [DEBU] {16472ffcc8174917d3d13224f3bfc0cb} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 11:04:23.369 [DEBU] {b336cae84e184917b7aaf3440de933b3} [  3 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 11:04:23.372 [DEBU] {b336cae84e184917b7aaf3440de933b3} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 11:04:23.411 [DEBU] {b336cae84e184917b7aaf3440de933b3} [ 35 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 11:04:23.484 [DEBU] {b336cae84e184917b7aaf3440de933b3} [ 72 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 11:04:23.506 [DEBU] {b336cae84e184917b7aaf3440de933b3} [ 22 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:23.522 [DEBU] {b336cae84e184917b7aaf3440de933b3} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:23.531 [DEBU] {b336cae84e184917b7aaf3440de933b3} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:23.552 [DEBU] {b336cae84e184917b7aaf3440de933b3} [ 21 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:23.561 [DEBU] {b336cae84e184917b7aaf3440de933b3} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:23.582 [DEBU] {b336cae84e184917b7aaf3440de933b3} [ 20 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:23.597 [DEBU] {b336cae84e184917b7aaf3440de933b3} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:23.631 [DEBU] {b336cae84e184917b7aaf3440de933b3} [ 34 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 11:04:23.686 [DEBU] {b336cae84e184917b7aaf3440de933b3} [ 55 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 11:04:23.709 [DEBU] {b336cae84e184917b7aaf3440de933b3} [ 22 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:23.720 [DEBU] {b336cae84e184917b7aaf3440de933b3} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:23.730 [DEBU] {b336cae84e184917b7aaf3440de933b3} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:23.755 [DEBU] {b336cae84e184917b7aaf3440de933b3} [ 25 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:23.766 [DEBU] {b336cae84e184917b7aaf3440de933b3} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:23.780 [DEBU] {b336cae84e184917b7aaf3440de933b3} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:23.781 [DEBU] {b336cae84e184917b7aaf3440de933b3} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 11:04:23.783 [DEBU] {e9cbac014f184917b8aaf344d4450f70} [  2 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 11:04:23.784 [DEBU] {f205c6014f184917b9aaf3442bc6748d} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 11:04:23.786 [DEBU] {eef8d8014f184917baaaf344340c9f8d} [  2 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 11:04:23.787 [DEBU] {1fc5f5014f184917bbaaf344cc84bffd} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 11:04:23.788 [ERRO] {20130d024f184917bcaaf344a1e00fae} [  0 ms] [default] [recdb] [rows:0  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`coutomer_id`=1) AND (`deviceId`='deviceId1')
Error: Error 1054: Unknown column 'coutomer_id' in 'where clause'
Stack:
1.  github.com/gogf/gf/v2/database/gdb.(*Core).writeSqlToLogger
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core.go:671
2.  github.com/gogf/gf/v2/database/gdb.(*Core).DoCommit
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:279
3.  github.com/gogf/gf/v2/database/gdb.(*Core).DoQuery
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:75
4.  github.com/gogf/gf/v2/database/gdb.(*Core).DoSelect
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core.go:152
5.  github.com/gogf/gf/v2/database/gdb.(*HookSelectInput).Next
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_hook.go:113
6.  github.com/gogf/gf/v2/database/gdb.(*Model).doGetAllBySql
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:492
7.  github.com/gogf/gf/v2/database/gdb.(*Model).doGetAll
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:471
8.  github.com/gogf/gf/v2/database/gdb.(*Model).All
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:30
9.  github.com/gogf/gf/v2/database/gdb.(*Model).ScanList
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:242
10. main.main
    /home/sqf/workspace/go-playground/cmd/gofrome-dao-scanlist/main.go:47

2023-03-04 11:04:39.527 [DEBU] {04cdd3ab52184917167ace488f2824cd} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 11:04:39.529 [DEBU] {04cdd3ab52184917167ace488f2824cd} [  2 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 11:04:39.600 [DEBU] {04cdd3ab52184917167ace488f2824cd} [ 69 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 11:04:39.690 [DEBU] {04cdd3ab52184917167ace488f2824cd} [ 90 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 11:04:39.708 [DEBU] {04cdd3ab52184917167ace488f2824cd} [ 18 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:39.720 [DEBU] {04cdd3ab52184917167ace488f2824cd} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:39.734 [DEBU] {04cdd3ab52184917167ace488f2824cd} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:39.741 [DEBU] {04cdd3ab52184917167ace488f2824cd} [  7 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:39.750 [DEBU] {04cdd3ab52184917167ace488f2824cd} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:39.775 [DEBU] {04cdd3ab52184917167ace488f2824cd} [ 25 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:39.784 [DEBU] {04cdd3ab52184917167ace488f2824cd} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:39.828 [DEBU] {04cdd3ab52184917167ace488f2824cd} [ 43 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 11:04:39.897 [DEBU] {04cdd3ab52184917167ace488f2824cd} [ 69 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 11:04:39.908 [DEBU] {04cdd3ab52184917167ace488f2824cd} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:39.920 [DEBU] {04cdd3ab52184917167ace488f2824cd} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:39.933 [DEBU] {04cdd3ab52184917167ace488f2824cd} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:39.949 [DEBU] {04cdd3ab52184917167ace488f2824cd} [ 16 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:39.967 [DEBU] {04cdd3ab52184917167ace488f2824cd} [ 17 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:39.985 [DEBU] {04cdd3ab52184917167ace488f2824cd} [ 18 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:04:39.986 [DEBU] {04cdd3ab52184917167ace488f2824cd} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 11:04:39.993 [DEBU] {140f8dc752184917177ace48dc64c43b} [  7 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 11:04:39.996 [DEBU] {d4f4fcc752184917187ace48ca1cd8d1} [  3 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 11:04:40.001 [DEBU] {636929c852184917197ace483f97e9c6} [  5 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 11:04:40.003 [DEBU] {424074c8521849171a7ace48c183243a} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 11:04:40.034 [DEBU] {06739fc8521849171b7ace483430df4c} [ 30 ms] [default] [recdb] [rows:3  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=1) AND (`deviceId`='deviceId1')
2023-03-04 11:04:40.037 [DEBU] {524c83ca521849171c7ace486137f33c} [  1 ms] [default] [recdb] [rows:3  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11','identity12','identity13'))
2023-03-04 11:44:23.245 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [  3 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 11:44:23.248 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 11:44:23.291 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [ 43 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 11:44:23.384 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [ 93 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 11:44:23.396 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:23.410 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:23.421 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:23.430 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:23.439 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:23.453 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [ 14 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:23.464 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:23.509 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [ 45 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 11:44:23.555 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [ 46 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 11:44:23.574 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [ 19 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:23.593 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [ 19 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:23.606 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:23.618 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:23.629 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:23.639 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:23.641 [DEBU] {ea6294ac7d1a4917e5d92662abcf546a} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 11:44:23.642 [DEBU] {2dce74c47d1a4917e6d92662b4ac8d90} [  1 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 11:44:23.645 [DEBU] {40c28fc47d1a4917e7d92662785b5788} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 11:44:23.646 [DEBU] {eeb0b1c47d1a4917e8d92662a00f2fcc} [  1 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 11:44:23.648 [DEBU] {4affcbc47d1a4917e9d92662d91956aa} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 11:44:23.651 [DEBU] {93e2f7c47d1a4917ead9266246c3bdcc} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=1) AND (`deviceId`='deviceId3')
2023-03-04 11:44:23.653 [DEBU] {bf381cc57d1a4917ebd92662ca7a5c00} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 11:44:38.277 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [  3 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 11:44:38.280 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 11:44:38.333 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [ 53 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 11:44:38.433 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [100 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 11:44:38.441 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [  7 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:38.458 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [ 17 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:38.469 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:38.485 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [ 16 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:38.492 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [  7 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:38.502 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:38.510 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:38.541 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [ 31 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 11:44:38.591 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [ 50 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 11:44:38.600 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:38.613 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:38.626 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:38.643 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [ 17 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:38.652 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:38.675 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [ 23 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 11:44:38.675 [DEBU] {e8a98b2c811a4917f559052af7c14cba} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 11:44:38.677 [DEBU] {68029844811a4917f659052a26c8a85a} [  1 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 11:44:38.680 [DEBU] {41e2b044811a4917f759052aa384648c} [  3 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 11:44:38.684 [DEBU] {836ede44811a4917f859052ac4797d50} [  4 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 11:44:38.686 [DEBU] {89911b45811a4917f959052a65f47ab5} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 11:44:38.687 [DEBU] {05a83745811a4917fa59052a65f0dcd4} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=1) AND (`deviceId`='deviceId2')
2023-03-04 11:44:38.689 [DEBU] {905e5245811a4917fb59052a14225bdf} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 13:21:32.998 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 13:21:33.016 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 13:21:33.032 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [ 13 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 13:21:33.115 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [ 81 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 13:21:33.124 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:21:33.144 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [ 20 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:21:33.155 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:21:33.177 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [ 21 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:21:33.190 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:21:33.205 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:21:33.228 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [ 23 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:21:33.239 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [ 11 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 13:21:33.316 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [ 77 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE, INDEX `test_cert_deviceId_deviceId`(`deviceId` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 13:21:33.339 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [ 23 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:21:33.360 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [ 20 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:21:33.370 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:21:33.385 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:21:33.393 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:21:33.403 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:21:33.404 [DEBU] {584e5504cb1f4917f9564f0344746fe4} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 13:21:33.406 [DEBU] {274d6b1dcb1f4917fa564f03231acfca} [  2 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 13:21:33.536 [DEBU] {16178b1dcb1f4917fb564f0309de034f} [130 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 13:21:33.538 [DEBU] {3deb4725cb1f4917fc564f03c943d3b7} [  2 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 13:21:33.539 [DEBU] {bb4f6925cb1f4917fd564f034819c6e1} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 13:21:33.542 [DEBU] {f2888625cb1f4917fe564f0373ffd833} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=1) AND (`deviceId`='deviceId2')
2023-03-04 13:21:33.544 [DEBU] {647bad25cb1f4917ff564f03b4a4d51b} [  1 ms] [default] [recdb] [rows:3  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('identity11')
2023-03-04 13:22:51.533 [DEBU] {98960b4edd1f49179d19686da96b3985} [  3 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 13:22:51.539 [DEBU] {98960b4edd1f49179d19686da96b3985} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 13:22:51.597 [DEBU] {98960b4edd1f49179d19686da96b3985} [ 56 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 13:22:51.681 [DEBU] {98960b4edd1f49179d19686da96b3985} [ 84 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 13:22:51.694 [DEBU] {98960b4edd1f49179d19686da96b3985} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:22:51.705 [DEBU] {98960b4edd1f49179d19686da96b3985} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:22:51.715 [DEBU] {98960b4edd1f49179d19686da96b3985} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:22:51.728 [DEBU] {98960b4edd1f49179d19686da96b3985} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:22:51.753 [DEBU] {98960b4edd1f49179d19686da96b3985} [ 24 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:22:51.766 [DEBU] {98960b4edd1f49179d19686da96b3985} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:22:51.779 [DEBU] {98960b4edd1f49179d19686da96b3985} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:22:51.866 [DEBU] {98960b4edd1f49179d19686da96b3985} [ 86 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 13:22:51.962 [DEBU] {98960b4edd1f49179d19686da96b3985} [ 96 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE, INDEX `test_cert_deviceId_deviceId`(`deviceId` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 13:22:51.982 [DEBU] {98960b4edd1f49179d19686da96b3985} [ 19 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:22:51.990 [DEBU] {98960b4edd1f49179d19686da96b3985} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:22:52.013 [DEBU] {98960b4edd1f49179d19686da96b3985} [ 22 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:22:52.024 [DEBU] {98960b4edd1f49179d19686da96b3985} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:22:52.034 [DEBU] {98960b4edd1f49179d19686da96b3985} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:22:52.042 [DEBU] {98960b4edd1f49179d19686da96b3985} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:22:52.043 [DEBU] {98960b4edd1f49179d19686da96b3985} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 13:22:52.047 [DEBU] {fda3ad6cdd1f49179e19686dcbb5ccf4} [  4 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 13:22:52.048 [DEBU] {b472e56cdd1f49179f19686d0977a4d8} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 13:22:52.050 [DEBU] {08d0ff6cdd1f4917a019686d3e80b6e1} [  1 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 13:22:52.052 [DEBU] {849b1d6ddd1f4917a119686d3e5e3c91} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 13:22:52.054 [DEBU] {93fb3f6ddd1f4917a219686d94fc62d4} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=1) AND (`deviceId`='deviceId2')
2023-03-04 13:22:52.074 [DEBU] {b33b576ddd1f4917a319686d6b7a14c2} [ 20 ms] [default] [recdb] [rows:3  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('identity11') ORDER BY `id` DESC
2023-03-04 13:36:14.455 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 13:36:14.468 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 13:36:14.532 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [ 64 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 13:36:14.619 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [ 87 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 13:36:14.644 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [ 24 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:36:14.661 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [ 16 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:36:14.671 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:36:14.690 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [ 19 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:36:14.707 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [ 17 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:36:14.725 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [ 18 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:36:14.737 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:36:14.794 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [ 56 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 13:36:14.862 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [ 67 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE, INDEX `test_cert_deviceId_deviceId`(`deviceId` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 13:36:14.878 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [ 16 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:36:14.889 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:36:14.900 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:36:14.907 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [  7 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:36:14.918 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:36:14.927 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:36:14.928 [DEBU] {f808f73f98204917ec09dd5570fb8d10} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 13:36:14.931 [DEBU] {c8a6655c98204917ed09dd55ae8fbd1c} [  2 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 13:36:14.932 [DEBU] {80fa865c98204917ee09dd558ba430dc} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 13:36:14.934 [DEBU] {8a26985c98204917ef09dd553e12e733} [  2 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 13:36:14.935 [DEBU] {64f6ad5c98204917f009dd55dfa2960e} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 13:36:14.937 [DEBU] {473ccc5c98204917f109dd55a8e64652} [  1 ms] [default] [recdb] [rows:0  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=11) AND (`deviceId`='deviceId2')
2023-03-04 13:36:14.954 [DEBU] {985eea5c98204917f209dd55e84b648f} [ 16 ms] [default] [recdb] [rows:0  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE 0=1 ORDER BY `id` DESC
2023-03-04 13:41:14.997 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 13:41:15.004 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 13:41:15.073 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [ 69 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 13:41:15.143 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [ 70 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 13:41:15.150 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [  7 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:15.171 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [ 20 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:15.179 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:15.195 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [ 16 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:15.210 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [ 14 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:15.218 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:15.230 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:15.271 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [ 40 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 13:41:15.332 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [ 60 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE, INDEX `test_cert_deviceId_deviceId`(`deviceId` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 13:41:15.341 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:15.353 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:15.363 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:15.381 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [ 18 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:15.395 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:15.406 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:15.407 [DEBU] {5cf48f39de204917e3bf0769126b3f77} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 13:41:15.409 [DEBU] {bf0d4d52de204917e4bf07697ad1bad3} [  2 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 13:41:15.411 [DEBU] {aa346b52de204917e5bf0769f705a2b8} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 13:41:15.413 [DEBU] {1be38152de204917e6bf0769ced4712e} [  2 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 13:41:15.415 [DEBU] {2a73a952de204917e7bf0769943be4bb} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 13:41:15.417 [DEBU] {1ed2cf52de204917e8bf07692f4ff257} [  1 ms] [default] [recdb] [rows:0  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=11) AND (`deviceId`='deviceId2')
2023-03-04 13:41:15.419 [DEBU] {5139ee52de204917e9bf0769a842ad9d} [  1 ms] [default] [recdb] [rows:0  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE 0=1 ORDER BY `id` DESC
2023-03-04 13:41:30.535 [DEBU] {5ba39dd7e1204917146632459454faa3} [  3 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 13:41:30.541 [DEBU] {5ba39dd7e1204917146632459454faa3} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 13:41:30.580 [DEBU] {5ba39dd7e1204917146632459454faa3} [ 38 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 13:41:30.662 [DEBU] {5ba39dd7e1204917146632459454faa3} [ 81 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 13:41:30.679 [DEBU] {5ba39dd7e1204917146632459454faa3} [ 17 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:30.688 [DEBU] {5ba39dd7e1204917146632459454faa3} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:30.699 [DEBU] {5ba39dd7e1204917146632459454faa3} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:30.714 [DEBU] {5ba39dd7e1204917146632459454faa3} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:30.723 [DEBU] {5ba39dd7e1204917146632459454faa3} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:30.738 [DEBU] {5ba39dd7e1204917146632459454faa3} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:30.747 [DEBU] {5ba39dd7e1204917146632459454faa3} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:30.782 [DEBU] {5ba39dd7e1204917146632459454faa3} [ 35 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 13:41:30.855 [DEBU] {5ba39dd7e1204917146632459454faa3} [ 73 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE, INDEX `test_cert_deviceId_deviceId`(`deviceId` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 13:41:30.872 [DEBU] {5ba39dd7e1204917146632459454faa3} [ 16 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:30.880 [DEBU] {5ba39dd7e1204917146632459454faa3} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:30.888 [DEBU] {5ba39dd7e1204917146632459454faa3} [  7 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:30.905 [DEBU] {5ba39dd7e1204917146632459454faa3} [ 16 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:30.912 [DEBU] {5ba39dd7e1204917146632459454faa3} [  7 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:30.921 [DEBU] {5ba39dd7e1204917146632459454faa3} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:41:30.922 [DEBU] {5ba39dd7e1204917146632459454faa3} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 13:41:30.924 [DEBU] {269f09efe120491715663245fd2de40d} [  2 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 13:41:30.926 [DEBU] {b49b28efe12049171666324584737e75} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 13:41:30.928 [DEBU] {894d45efe120491717663245f8740622} [  2 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 13:41:30.930 [DEBU] {2f146eefe12049171866324581dad39a} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 13:41:30.933 [DEBU] {15b79aefe120491719663245c2b9a6cb} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=1) AND (`deviceId`='deviceId2')
2023-03-04 13:41:30.935 [DEBU] {4fadbeefe12049171a663245f738cd5b} [  1 ms] [default] [recdb] [rows:3  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('identity11') ORDER BY `id` DESC
2023-03-04 13:42:41.286 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 13:42:41.286 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 13:42:41.322 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [ 33 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 13:42:41.412 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [ 89 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 13:42:41.432 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [ 20 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:41.443 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:41.452 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:41.463 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:41.482 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [ 19 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:41.498 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [ 16 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:41.515 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [ 17 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:41.544 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [ 29 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 13:42:41.612 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [ 68 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE, INDEX `test_cert_deviceId_deviceId`(`deviceId` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 13:42:41.634 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [ 22 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:41.644 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:41.674 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [ 30 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:41.682 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:41.697 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:41.707 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:41.708 [DEBU] {ca48cc50f2204917a4e6664b91a89573} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 13:42:41.710 [DEBU] {88d5376af2204917a5e6664ba6d9a843} [  2 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 13:42:41.712 [DEBU] {d8635f6af2204917a6e6664b256aa2c8} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 13:42:41.715 [DEBU] {c6a67c6af2204917a7e6664ba57a9103} [  3 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 13:42:41.718 [DEBU] {2b5dad6af2204917a8e6664baa884d45} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 13:42:41.720 [DEBU] {413edf6af2204917a9e6664bb16947eb} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=1) AND (`deviceId`='deviceId2')
2023-03-04 13:42:41.722 [DEBU] {4854ff6af2204917aae6664b3d17ada6} [  1 ms] [default] [recdb] [rows:3  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('identity11') ORDER BY `id` DESC
2023-03-04 13:42:56.636 [DEBU] {c742a3e3f52049170843f1012874374d} [  3 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 13:42:56.638 [DEBU] {c742a3e3f52049170843f1012874374d} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 13:42:56.708 [DEBU] {c742a3e3f52049170843f1012874374d} [ 68 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 13:42:56.795 [DEBU] {c742a3e3f52049170843f1012874374d} [ 86 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 13:42:56.807 [DEBU] {c742a3e3f52049170843f1012874374d} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:56.836 [DEBU] {c742a3e3f52049170843f1012874374d} [ 28 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:56.849 [DEBU] {c742a3e3f52049170843f1012874374d} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:56.867 [DEBU] {c742a3e3f52049170843f1012874374d} [ 17 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:56.888 [DEBU] {c742a3e3f52049170843f1012874374d} [ 20 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:56.896 [DEBU] {c742a3e3f52049170843f1012874374d} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:56.916 [DEBU] {c742a3e3f52049170843f1012874374d} [ 19 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:56.956 [DEBU] {c742a3e3f52049170843f1012874374d} [ 40 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 13:42:57.032 [DEBU] {c742a3e3f52049170843f1012874374d} [ 76 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE, INDEX `test_cert_deviceId_deviceId`(`deviceId` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 13:42:57.046 [DEBU] {c742a3e3f52049170843f1012874374d} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:57.056 [DEBU] {c742a3e3f52049170843f1012874374d} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:57.074 [DEBU] {c742a3e3f52049170843f1012874374d} [ 18 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:57.082 [DEBU] {c742a3e3f52049170843f1012874374d} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:57.104 [DEBU] {c742a3e3f52049170843f1012874374d} [ 22 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:57.124 [DEBU] {c742a3e3f52049170843f1012874374d} [ 20 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:42:57.124 [DEBU] {c742a3e3f52049170843f1012874374d} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 13:42:57.128 [DEBU] {6afe2301f62049170943f1019ba135e5} [  3 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 13:42:57.129 [DEBU] {30fc5401f62049170a43f10193d8346c} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 13:42:57.133 [DEBU] {ed8b7201f62049170b43f101263006c2} [  3 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 13:42:57.134 [DEBU] {5e93a401f62049170c43f1015ce43f49} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 13:42:57.136 [DEBU] {8b77c101f62049170d43f1016ebb6297} [  1 ms] [default] [recdb] [rows:0  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=11) AND (`deviceId`='deviceId2')
2023-03-04 13:42:57.137 [DEBU] {1d26db01f62049170e43f1011cde3900} [  0 ms] [default] [recdb] [rows:0  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE 0=1 ORDER BY `id` DESC
2023-03-04 13:52:23.101 [DEBU] {54b0bac779214917335b1451d901c88a} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 13:52:23.114 [DEBU] {54b0bac779214917335b1451d901c88a} [  2 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 13:52:23.164 [DEBU] {54b0bac779214917335b1451d901c88a} [ 48 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 13:52:23.262 [DEBU] {54b0bac779214917335b1451d901c88a} [ 98 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 13:52:23.273 [DEBU] {54b0bac779214917335b1451d901c88a} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:52:23.289 [DEBU] {54b0bac779214917335b1451d901c88a} [ 16 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:52:23.296 [DEBU] {54b0bac779214917335b1451d901c88a} [  7 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:52:23.303 [DEBU] {54b0bac779214917335b1451d901c88a} [  7 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:52:23.313 [DEBU] {54b0bac779214917335b1451d901c88a} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:52:23.331 [DEBU] {54b0bac779214917335b1451d901c88a} [ 18 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:52:23.347 [DEBU] {54b0bac779214917335b1451d901c88a} [ 16 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:52:23.385 [DEBU] {54b0bac779214917335b1451d901c88a} [ 38 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 13:52:23.462 [DEBU] {54b0bac779214917335b1451d901c88a} [ 77 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE, INDEX `test_cert_deviceId_deviceId`(`deviceId` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 13:52:23.472 [DEBU] {54b0bac779214917335b1451d901c88a} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:52:23.483 [DEBU] {54b0bac779214917335b1451d901c88a} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:52:23.492 [DEBU] {54b0bac779214917335b1451d901c88a} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:52:23.505 [DEBU] {54b0bac779214917335b1451d901c88a} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:52:23.514 [DEBU] {54b0bac779214917335b1451d901c88a} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:52:23.532 [DEBU] {54b0bac779214917335b1451d901c88a} [ 18 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 13:52:23.533 [DEBU] {54b0bac779214917335b1451d901c88a} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 13:52:23.535 [DEBU] {5931b4e179214917345b14511cf63b98} [  2 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 13:52:23.539 [DEBU] {d6b4dee179214917355b145130a82e1c} [  3 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 13:52:23.542 [DEBU] {f76810e279214917365b1451dac30a72} [  3 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 13:52:23.544 [DEBU] {bd323ee279214917375b145131f3211d} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 13:52:23.546 [DEBU] {3d345be279214917385b1451f319ea3f} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=1) AND (`deviceId`='deviceId2')
2023-03-04 13:52:23.548 [DEBU] {d22b7de279214917395b14511e631a29} [  2 ms] [default] [recdb] [rows:3  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('identity11') ORDER BY `id` DESC
2023-03-04 14:07:49.028 [DEBU] {9289365d51224917afe6b033f1070f81} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 14:07:49.032 [DEBU] {9289365d51224917afe6b033f1070f81} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 14:07:49.081 [DEBU] {9289365d51224917afe6b033f1070f81} [ 47 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 14:07:49.167 [DEBU] {9289365d51224917afe6b033f1070f81} [ 86 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 14:07:49.190 [DEBU] {9289365d51224917afe6b033f1070f81} [ 22 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:07:49.205 [DEBU] {9289365d51224917afe6b033f1070f81} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:07:49.215 [DEBU] {9289365d51224917afe6b033f1070f81} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:07:49.232 [DEBU] {9289365d51224917afe6b033f1070f81} [ 17 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:07:49.240 [DEBU] {9289365d51224917afe6b033f1070f81} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:07:49.255 [DEBU] {9289365d51224917afe6b033f1070f81} [ 14 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:07:49.274 [DEBU] {9289365d51224917afe6b033f1070f81} [ 19 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:07:49.312 [DEBU] {9289365d51224917afe6b033f1070f81} [ 37 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 14:07:49.363 [DEBU] {9289365d51224917afe6b033f1070f81} [ 51 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE, INDEX `test_cert_deviceId_deviceId`(`deviceId` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 14:07:49.381 [DEBU] {9289365d51224917afe6b033f1070f81} [ 16 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:07:49.396 [DEBU] {9289365d51224917afe6b033f1070f81} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:07:49.405 [DEBU] {9289365d51224917afe6b033f1070f81} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:07:49.429 [DEBU] {9289365d51224917afe6b033f1070f81} [ 23 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:07:49.446 [DEBU] {9289365d51224917afe6b033f1070f81} [ 17 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:07:49.453 [DEBU] {9289365d51224917afe6b033f1070f81} [  7 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:07:49.454 [DEBU] {9289365d51224917afe6b033f1070f81} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 14:07:49.474 [DEBU] {67dafa7651224917b0e6b0339dfeccf9} [ 18 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 14:07:49.476 [DEBU] {e9a3117851224917b1e6b033acc3ad31} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 14:07:49.479 [DEBU] {dba63e7851224917b2e6b033b94edaa1} [  2 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 14:07:49.480 [DEBU] {eea5617851224917b3e6b033dbc8dbbe} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 14:07:49.482 [DEBU] {0ee97d7851224917b4e6b03383ce22b9} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=1) AND (`deviceId`='deviceId2')
2023-03-04 14:07:49.483 [DEBU] {7a348e7851224917b5e6b033de286ea4} [  1 ms] [default] [recdb] [rows:3  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('identity11') ORDER BY `id` DESC
2023-03-04 14:07:49.483 [ERRO] {d663a17851224917b6e6b03397fb9789} [  0 ms] [default] [recdb] [rows:0  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity`='{}' ORDER BY `id` DESC
Error: sql: converting argument $1 type: unsupported type gdb.Model, a struct
Stack:
1.  github.com/gogf/gf/v2/database/gdb.(*Core).writeSqlToLogger
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core.go:671
2.  github.com/gogf/gf/v2/database/gdb.(*Core).DoCommit
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:279
3.  github.com/gogf/gf/v2/database/gdb.(*Core).DoQuery
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:75
4.  github.com/gogf/gf/v2/database/gdb.(*Core).DoSelect
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core.go:152
5.  github.com/gogf/gf/v2/database/gdb.(*HookSelectInput).Next
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_hook.go:113
6.  github.com/gogf/gf/v2/database/gdb.(*Model).doGetAllBySql
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:492
7.  github.com/gogf/gf/v2/database/gdb.(*Model).doGetAll
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:471
8.  github.com/gogf/gf/v2/database/gdb.(*Model).All
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:30
9.  github.com/gogf/gf/v2/database/gdb.(*Model).ScanList
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:242
10. main.main
    /home/sqf/workspace/go-playground/cmd/gofrome-dao-scanlist/main.go:66

2023-03-04 14:14:10.639 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [  3 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 14:14:10.640 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 14:14:10.678 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [ 35 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 14:14:10.760 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [ 82 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 14:14:10.772 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:14:10.783 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:14:10.802 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [ 19 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:14:10.816 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [ 14 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:14:10.831 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:14:10.847 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [ 16 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:14:10.865 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [ 18 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:14:10.928 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [ 62 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 14:14:11.001 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [ 73 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE, INDEX `test_cert_deviceId_deviceId`(`deviceId` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 14:14:11.011 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:14:11.028 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [ 17 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:14:11.036 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:14:11.045 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:14:11.052 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [  7 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:14:11.071 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [ 19 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:14:11.073 [DEBU] {8ed3f936aa2249175ea898011a0e017b} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 14:14:11.075 [DEBU] {e03c2551aa2249175fa898010ace8189} [  2 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 14:14:11.079 [DEBU] {f2015951aa22491760a8980152a90dac} [  3 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 14:14:11.083 [DEBU] {b3598951aa22491761a8980103d6f4cf} [  4 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 14:14:11.086 [DEBU] {8245cb51aa22491762a89801f8c183bc} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 14:14:11.087 [DEBU] {65a2ee51aa22491763a89801d1fc6b17} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=1) AND (`deviceId`='deviceId2')
2023-03-04 14:14:11.089 [DEBU] {944a0652aa22491764a89801dce8979d} [  1 ms] [default] [recdb] [rows:3  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('identity11') ORDER BY `id` DESC
2023-03-04 14:14:11.106 [DEBU] {16692352aa22491765a898019964fd55} [ 16 ms] [default] [recdb] [rows:5  ] SELECT * FROM `test_cert_info` GROUP BY `identity`
2023-03-04 14:14:11.107 [ERRO] {5ed02f53aa22491766a898013619dc06} [  0 ms] [default] [recdb] [rows:0  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('{"cert_type":"个人","created_at":"2022-11-02 18:33:54","customer_id":1,"customer_idcard":"customer_idcard1","customer_name":"customer_name1","id":1,"identity":"identity11","issuer_identity":"issuer_identity1","serial_number":"serial_number11","status":"已注销","subject":"subject1","updated_at":"2022-11-02 18:33:54","validity_notafter":"2028-11-02 18:33:54","validity_notbefore":"2022-11-02 18:33:54","version":1}','{"cert_type":"企业","created_at":"2022-11-02 18:33:54","customer_id":1,"customer_idcard":"customer_idcard5","customer_name":"customer_name5","id":6,"identity":"identity12","issuer_identity":"issuer_identity3","serial_number":"serial_number14","status":"可用","subject":"subject3","updated_at":"2022-11-02 18:33:54","validity_notafter":"2024-11-02 18:33:54","validity_notbefore":"2023-11-02 18:33:54","version":1}','{"cert_type":"域名","created_at":"2022-11-02 18:33:54","customer_id":1,"customer_idcard":"customer_idcard5","customer_name":"customer_name5","id":7,"identity":"identity13","issuer_identity":"issuer_identity3","serial_number":"serial_number15","status":"可用","subject":"subject3","updated_at":"2022-11-02 18:33:54","validity_notafter":"2024-11-02 18:33:54","validity_notbefore":"2023-11-02 18:33:54","version":1}','{"cert_type":"个人","created_at":"2022-11-02 18:33:54","customer_id":2,"customer_idcard":"customer_idcard2","customer_name":"customer_name2","id":4,"identity":"identity21","issuer_identity":"issuer_identity2","serial_number":"serial_number21","status":"可用","subject":"subject2","updated_at":"2022-11-02 18:33:54","validity_notafter":"2024-11-02 18:33:54","validity_notbefore":"2023-11-02 18:33:54","version":1}','{"cert_type":"个人","created_at":"2022-11-02 18:33:54","customer_id":3,"customer_idcard":"customer_idcard3","customer_name":"customer_name3","id":5,"identity":"identity31","issuer_identity":"issuer_identity2","serial_number":"serial_number31","status":"可用","subject":"subject2","updated_at":"2022-11-02 18:33:54","validity_notafter":"2024-11-02 18:33:54","validity_notbefore":"2023-11-02 18:33:54","version":1}') ORDER BY `id` DESC
Error: sql: converting argument $1 type: unsupported type gdb.Record, a map
Stack:
1.  github.com/gogf/gf/v2/database/gdb.(*Core).writeSqlToLogger
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core.go:671
2.  github.com/gogf/gf/v2/database/gdb.(*Core).DoCommit
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:279
3.  github.com/gogf/gf/v2/database/gdb.(*Core).DoQuery
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:75
4.  github.com/gogf/gf/v2/database/gdb.(*Core).DoSelect
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core.go:152
5.  github.com/gogf/gf/v2/database/gdb.(*HookSelectInput).Next
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_hook.go:113
6.  github.com/gogf/gf/v2/database/gdb.(*Model).doGetAllBySql
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:492
7.  github.com/gogf/gf/v2/database/gdb.(*Model).doGetAll
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:471
8.  github.com/gogf/gf/v2/database/gdb.(*Model).All
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:30
9.  github.com/gogf/gf/v2/database/gdb.(*Model).ScanList
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:242
10. main.main
    /home/sqf/workspace/go-playground/cmd/gofrome-dao-scanlist/main.go:68

2023-03-04 14:15:31.928 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 14:15:31.932 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [  2 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 14:15:31.972 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [ 39 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 14:15:32.070 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [ 98 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 14:15:32.082 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:15:32.109 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [ 26 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:15:32.136 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [ 27 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:15:32.145 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:15:32.165 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [ 20 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:15:32.187 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [ 22 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:15:32.202 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:15:32.244 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [ 42 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 14:15:32.314 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [ 69 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE, INDEX `test_cert_deviceId_deviceId`(`deviceId` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 14:15:32.329 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:15:32.339 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:15:32.350 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:15:32.361 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:15:32.374 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:15:32.386 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:15:32.387 [DEBU] {0c3c3f24bd22491716548f150fbf0d86} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 14:15:32.389 [DEBU] {1f53df3fbd22491717548f15c9fcdf51} [  2 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 14:15:32.391 [DEBU] {0deafe3fbd22491718548f153f726e6d} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 14:15:32.394 [DEBU] {abc11740bd22491719548f15349f507e} [  3 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 14:15:32.397 [DEBU] {f8214b40bd2249171a548f153d4997d5} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 14:15:32.399 [DEBU] {0c2e7f40bd2249171b548f15d6c95ac9} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=1) AND (`deviceId`='deviceId2')
2023-03-04 14:15:32.401 [DEBU] {a3e0a340bd2249171c548f1521552ff1} [  1 ms] [default] [recdb] [rows:3  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('identity11') ORDER BY `id` DESC
2023-03-04 14:15:32.425 [DEBU] {07dfb740bd2249171d548f159a051796} [ 23 ms] [default] [recdb] [rows:5  ] SELECT `id` FROM `test_cert_info` GROUP BY `identity`
2023-03-04 14:15:32.426 [ERRO] {088f2442bd2249171e548f15079429f4} [  0 ms] [default] [recdb] [rows:0  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('{"id":1}','{"id":6}','{"id":7}','{"id":4}','{"id":5}') ORDER BY `id` DESC
Error: sql: converting argument $1 type: unsupported type gdb.Record, a map
Stack:
1.  github.com/gogf/gf/v2/database/gdb.(*Core).writeSqlToLogger
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core.go:671
2.  github.com/gogf/gf/v2/database/gdb.(*Core).DoCommit
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:279
3.  github.com/gogf/gf/v2/database/gdb.(*Core).DoQuery
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:75
4.  github.com/gogf/gf/v2/database/gdb.(*Core).DoSelect
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core.go:152
5.  github.com/gogf/gf/v2/database/gdb.(*HookSelectInput).Next
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_hook.go:113
6.  github.com/gogf/gf/v2/database/gdb.(*Model).doGetAllBySql
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:492
7.  github.com/gogf/gf/v2/database/gdb.(*Model).doGetAll
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:471
8.  github.com/gogf/gf/v2/database/gdb.(*Model).All
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:30
9.  github.com/gogf/gf/v2/database/gdb.(*Model).ScanList
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:242
10. main.main
    /home/sqf/workspace/go-playground/cmd/gofrome-dao-scanlist/main.go:68

2023-03-04 14:16:28.046 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [  3 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 14:16:28.051 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 14:16:28.092 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [ 40 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 14:16:28.192 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [100 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 14:16:28.218 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [ 25 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:16:28.238 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [ 19 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:16:28.250 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:16:28.262 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:16:28.279 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [ 17 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:16:28.300 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [ 20 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:16:28.310 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:16:28.344 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [ 34 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 14:16:28.434 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [ 89 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE, INDEX `test_cert_deviceId_deviceId`(`deviceId` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 14:16:28.445 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:16:28.462 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [ 17 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:16:28.483 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [ 21 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:16:28.492 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:16:28.505 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:16:28.513 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:16:28.515 [DEBU] {b2c71935ca2249173e033f09fc82b00c} [  2 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 14:16:28.520 [DEBU] {acf85c51ca2249173f033f09505b5d4a} [  5 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 14:16:28.522 [DEBU] {250daa51ca22491740033f094fa72318} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 14:16:28.524 [DEBU] {602bbe51ca22491741033f09d7c3d4cd} [  2 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 14:16:28.525 [DEBU] {748bdd51ca22491742033f0917db4655} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 14:16:28.527 [DEBU] {1aa5f651ca22491743033f09b008d23f} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=1) AND (`deviceId`='deviceId2')
2023-03-04 14:16:28.528 [DEBU] {55051052ca22491744033f09eadd14bf} [  1 ms] [default] [recdb] [rows:3  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('identity11') ORDER BY `id` DESC
2023-03-04 14:16:28.529 [DEBU] {e72c2552ca22491745033f090d9bbad8} [  0 ms] [default] [recdb] [rows:5  ] SELECT `id` FROM `test_cert_info` GROUP BY `identity`
2023-03-04 14:16:28.532 [DEBU] {a4123252ca22491746033f0918f6f2da} [  3 ms] [default] [recdb] [rows:0  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('1','6','7','4','5') ORDER BY `id` DESC
2023-03-04 14:17:09.916 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 14:17:09.917 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 14:17:09.960 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [ 38 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 14:17:10.075 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [113 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 14:17:10.083 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:10.094 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:10.107 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:10.117 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:10.125 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:10.145 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [ 20 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:10.153 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:10.190 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [ 37 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 14:17:10.255 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [ 65 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE, INDEX `test_cert_deviceId_deviceId`(`deviceId` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 14:17:10.263 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [  7 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:10.279 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:10.289 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:10.297 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:10.306 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:10.315 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:10.316 [DEBU] {49b4c8f4d32249173cf4f57cb697f270} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 14:17:10.318 [DEBU] {4994df0cd42249173df4f57c0088de7d} [  2 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 14:17:10.319 [DEBU] {818ffc0cd42249173ef4f57c3f99abcf} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 14:17:10.322 [DEBU] {4c56150dd42249173ff4f57c356d2d0c} [  2 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 14:17:10.323 [DEBU] {ee64380dd422491740f4f57c077a805f} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 14:17:10.324 [DEBU] {012c4e0dd422491741f4f57c2a9f7f9b} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=1) AND (`deviceId`='deviceId2')
2023-03-04 14:17:10.325 [DEBU] {4306620dd422491742f4f57c95d2073b} [  0 ms] [default] [recdb] [rows:3  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('identity11') ORDER BY `id` DESC
2023-03-04 14:17:10.326 [DEBU] {9e05730dd422491743f4f57cfc8f8331} [  0 ms] [default] [recdb] [rows:5  ] SELECT `id` FROM `test_cert_info` GROUP BY `identity`
2023-03-04 14:17:10.328 [ERRO] {8e88810dd422491744f4f57c02091d70} [  1 ms] [default] [recdb] [rows:0  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `if` IN('1','6','7','4','5')
Error: Error 1054: Unknown column 'if' in 'where clause'
Stack:
1.  github.com/gogf/gf/v2/database/gdb.(*Core).writeSqlToLogger
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core.go:671
2.  github.com/gogf/gf/v2/database/gdb.(*Core).DoCommit
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:279
3.  github.com/gogf/gf/v2/database/gdb.(*Core).DoQuery
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core_underlying.go:75
4.  github.com/gogf/gf/v2/database/gdb.(*Core).DoSelect
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_core.go:152
5.  github.com/gogf/gf/v2/database/gdb.(*HookSelectInput).Next
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_hook.go:113
6.  github.com/gogf/gf/v2/database/gdb.(*Model).doGetAllBySql
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:492
7.  github.com/gogf/gf/v2/database/gdb.(*Model).doGetAll
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:471
8.  github.com/gogf/gf/v2/database/gdb.(*Model).All
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:30
9.  github.com/gogf/gf/v2/database/gdb.(*Model).ScanList
    /home/sqf/go/pkg/mod/github.com/gogf/gf/v2@v2.3.2/database/gdb/gdb_model_select.go:242
10. main.main
    /home/sqf/workspace/go-playground/cmd/gofrome-dao-scanlist/main.go:67

2023-03-04 14:17:20.070 [DEBU] {b5d9e351d6224917ea21396c86304712} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 14:17:20.075 [DEBU] {b5d9e351d6224917ea21396c86304712} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 14:17:20.126 [DEBU] {b5d9e351d6224917ea21396c86304712} [ 51 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 14:17:20.234 [DEBU] {b5d9e351d6224917ea21396c86304712} [107 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 14:17:20.242 [DEBU] {b5d9e351d6224917ea21396c86304712} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:20.253 [DEBU] {b5d9e351d6224917ea21396c86304712} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:20.262 [DEBU] {b5d9e351d6224917ea21396c86304712} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:20.282 [DEBU] {b5d9e351d6224917ea21396c86304712} [ 19 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:20.292 [DEBU] {b5d9e351d6224917ea21396c86304712} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:20.307 [DEBU] {b5d9e351d6224917ea21396c86304712} [ 14 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:20.321 [DEBU] {b5d9e351d6224917ea21396c86304712} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:20.361 [DEBU] {b5d9e351d6224917ea21396c86304712} [ 39 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 14:17:20.437 [DEBU] {b5d9e351d6224917ea21396c86304712} [ 76 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE, INDEX `test_cert_deviceId_deviceId`(`deviceId` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 14:17:20.446 [DEBU] {b5d9e351d6224917ea21396c86304712} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:20.459 [DEBU] {b5d9e351d6224917ea21396c86304712} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:20.468 [DEBU] {b5d9e351d6224917ea21396c86304712} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:20.479 [DEBU] {b5d9e351d6224917ea21396c86304712} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:20.487 [DEBU] {b5d9e351d6224917ea21396c86304712} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:20.497 [DEBU] {b5d9e351d6224917ea21396c86304712} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:20.498 [DEBU] {b5d9e351d6224917ea21396c86304712} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 14:17:20.501 [DEBU] {1013c26bd6224917eb21396c17f428a0} [  3 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 14:17:20.503 [DEBU] {f266f76bd6224917ec21396cbac49446} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 14:17:20.509 [DEBU] {e276216cd6224917ed21396c3c05b2b4} [  5 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 14:17:20.511 [DEBU] {a958756cd6224917ee21396c3287fa50} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 14:17:20.514 [DEBU] {f1599e6cd6224917ef21396cd3a06ec9} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=1) AND (`deviceId`='deviceId2')
2023-03-04 14:17:20.516 [DEBU] {e693b96cd6224917f021396c24737f82} [  2 ms] [default] [recdb] [rows:3  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('identity11') ORDER BY `id` DESC
2023-03-04 14:17:20.518 [DEBU] {fbb2e36cd6224917f121396c5e9ebe32} [  1 ms] [default] [recdb] [rows:5  ] SELECT `id` FROM `test_cert_info` GROUP BY `identity`
2023-03-04 14:17:20.521 [DEBU] {405dfc6cd6224917f221396c1466185e} [  2 ms] [default] [recdb] [rows:5  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `id` IN('1','6','7','4','5')
2023-03-04 14:17:37.662 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 14:17:37.663 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 14:17:37.717 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [ 53 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 14:17:37.800 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [ 82 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 14:17:37.823 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [ 22 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:37.835 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:37.857 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [ 22 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:37.872 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [ 14 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:37.897 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [ 24 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:37.922 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [ 25 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:37.931 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:37.975 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [ 44 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 14:17:38.375 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [400 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE, INDEX `test_cert_deviceId_deviceId`(`deviceId` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 14:17:38.397 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [ 21 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:38.411 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [ 14 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:38.435 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [ 23 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:38.448 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:38.461 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [ 13 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:38.476 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [ 14 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:17:38.477 [DEBU] {d9ae806ada224917a9ed9954264f2b42} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 14:17:38.479 [DEBU] {4453669bda224917aaed995495f32f70} [  2 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 14:17:38.480 [DEBU] {cd9d829bda224917abed9954e401bbbe} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 14:17:38.484 [DEBU] {1be19d9bda224917aced995426c4fd92} [  2 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 14:17:38.486 [DEBU] {add3d49bda224917aded9954944dbbbe} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 14:17:38.489 [DEBU] {3b06fe9bda224917aeed99545d8a1e4e} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=1) AND (`deviceId`='deviceId2')
2023-03-04 14:17:38.493 [DEBU] {f2293f9cda224917afed995418d19ee3} [  2 ms] [default] [recdb] [rows:3  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('identity11') ORDER BY `id` DESC
2023-03-04 14:17:38.495 [DEBU] {182b6f9cda224917b0ed9954a81f75c3} [  1 ms] [default] [recdb] [rows:5  ] SELECT `id` FROM `test_cert_info` GROUP BY `identity`
2023-03-04 14:17:38.497 [DEBU] {dcf17f9cda224917b1ed995471e709ab} [  1 ms] [default] [recdb] [rows:5  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `id` IN('1','6','7','4','5')
2023-03-04 14:18:18.582 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [  3 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 14:18:18.585 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [  0 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 14:18:18.647 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [ 62 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 14:18:18.724 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [ 77 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 14:18:18.742 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [ 18 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:18:18.752 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:18:18.767 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:18:18.776 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:18:18.787 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:18:18.799 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:18:18.808 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:18:18.837 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [ 28 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 14:18:18.927 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [ 90 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE, INDEX `test_cert_deviceId_deviceId`(`deviceId` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 14:18:18.942 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:18:18.950 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:18:18.962 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:18:18.971 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:18:18.983 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [ 12 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:18:18.994 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:18:18.995 [DEBU] {c88a86f1e32249175ed05d0c364e0de6} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 14:18:18.997 [DEBU] {54af790ae42249175fd05d0caf362534} [  2 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 14:18:19.000 [DEBU] {39c9a10ae422491760d05d0c06e82293} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 14:18:19.002 [DEBU] {4f48c00ae422491761d05d0ca1919fa7} [  2 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 14:18:19.004 [DEBU] {40b6e70ae422491762d05d0cf0bfb1f7} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 14:18:19.006 [DEBU] {b6f7100be422491763d05d0cb0a363be} [  1 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=1) AND (`deviceId`='deviceId2')
2023-03-04 14:18:19.008 [DEBU] {5b4d2c0be422491764d05d0c83cb3027} [  1 ms] [default] [recdb] [rows:3  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('identity11') ORDER BY `id` DESC
2023-03-04 14:18:19.010 [DEBU] {6df5510be422491765d05d0c7b234c60} [  0 ms] [default] [recdb] [rows:5  ] SELECT `id` FROM `test_cert_info` GROUP BY `identity`
2023-03-04 14:18:19.011 [DEBU] {5dd85b0be422491766d05d0c62154b1b} [  1 ms] [default] [recdb] [rows:5  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `id` IN('1','6','7','4','5')
2023-03-04 14:19:15.778 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [  2 ms] [default] [recdb] [rows:0  ] SET NAMES utf8mb4;
2023-03-04 14:19:15.782 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [  2 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 0;
2023-03-04 14:19:15.861 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [ 79 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_info`;
2023-03-04 14:19:15.949 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [ 88 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_info`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `version` tinyint UNSIGNED NOT NULL DEFAULT 0 COMMENT '版本号', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `cert_type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书类型', `issuer_identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '颁发机构标识', `subject` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书主体信息', `validity_notbefore` datetime NULL DEFAULT NULL COMMENT '证书有效期开始', `validity_notafter` datetime NULL DEFAULT NULL COMMENT '证书有效期结束', `customer_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户名称', `customer_idcard` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户身份证号', `customer_id` bigint UNSIGNED NOT NULL COMMENT '客户id', `serial_number` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书序列号', `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '证书状态', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_pci_serial_identity`(`identity` ASC) USING BTREE, UNIQUE INDEX `test_pci_serial_number`(`serial_number` ASC) USING BTREE, INDEX `test_pci_customer_id`(`customer_id` ASC) USING BTREE, INDEX `test_pci_customer_name`(`customer_name` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书信息表' ROW_FORMAT = COMPACT;
2023-03-04 14:19:15.957 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (1, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number11','已注销', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:19:15.967 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (2, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2022-11-02 18:33:54', '2028-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number12','已过期', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:19:15.976 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (3, 1, 'identity11', '个人', 'issuer_identity1', 'subject1', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name1','customer_idcard1',1,'serial_number13','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:19:15.985 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [  8 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (4, 1, 'identity21', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name2','customer_idcard2',2,'serial_number21','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:19:15.996 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (5, 1, 'identity31', '个人', 'issuer_identity2', 'subject2', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name3','customer_idcard3',3,'serial_number31','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:19:16.006 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [ 10 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (6, 1, 'identity12', '企业', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number14','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:19:16.015 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [  9 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_info` VALUES (7, 1, 'identity13', '域名', 'issuer_identity3', 'subject3', '2023-11-02 18:33:54', '2024-11-02 18:33:54','customer_name5','customer_idcard5',1,'serial_number15','可用', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:19:16.048 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [ 32 ms] [default] [recdb] [rows:0  ] DROP TABLE IF EXISTS `test_cert_deviceId`;
2023-03-04 14:19:16.141 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [ 93 ms] [default] [recdb] [rows:0  ] CREATE TABLE `test_cert_deviceId`  ( `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, `customer_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户id', `identity` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '用户定义的证书标识', `deviceId` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '设备号', `created_at` datetime NULL DEFAULT NULL COMMENT '创建时间', `updated_at` datetime NULL DEFAULT NULL COMMENT '更新时间', PRIMARY KEY (`id`) USING BTREE, INDEX `test_cert_deviceId_identity`(`identity` ASC) USING BTREE, INDEX `test_cert_deviceId_deviceId`(`deviceId` ASC) USING BTREE ) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '测试证书设备绑定表' ROW_FORMAT = COMPACT;
2023-03-04 14:19:16.158 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [ 17 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (1, 1,'identity11', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:19:16.173 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [ 14 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (2, 1,'identity11', 'deviceId2', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:19:16.191 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [ 18 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (3, 1,'identity11', 'deviceId3', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:19:16.206 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [ 15 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (4, 2,'identity21', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:19:16.222 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [ 16 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (5, 1,'identity12', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:19:16.234 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [ 11 ms] [default] [recdb] [rows:1  ] INSERT INTO `test_cert_deviceId` VALUES (6, 1,'identity13', 'deviceId1', '2022-11-02 18:33:54', '2022-11-02 18:33:54');
2023-03-04 14:19:16.235 [DEBU] {ae6bb642f12249173908b25dea7aebb5} [  1 ms] [default] [recdb] [rows:0  ] SET FOREIGN_KEY_CHECKS = 1;
2023-03-04 14:19:16.237 [DEBU] {1e503d5ef12249173a08b25d1d7489b3} [  2 ms] [default] [recdb] [rows:6  ] SHOW FULL COLUMNS FROM `test_cert_deviceId`
2023-03-04 14:19:16.240 [DEBU] {4aa3665ef12249173b08b25d1a08dda1} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`identity`='identity11') AND (`deviceId`='deviceId3')
2023-03-04 14:19:16.244 [DEBU] {d9e9915ef12249173c08b25d568a980b} [  3 ms] [default] [recdb] [rows:15 ] SHOW FULL COLUMNS FROM `test_cert_info`
2023-03-04 14:19:16.246 [DEBU] {421dc65ef12249173d08b25df8ee6263} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE (`status`='可用') AND (`identity` IN('identity11'))
2023-03-04 14:19:16.250 [DEBU] {633f075ff12249173e08b25dbbd2914a} [  2 ms] [default] [recdb] [rows:1  ] SELECT `id`,`identity`,`deviceId`,`created_at`,`updated_at` FROM `test_cert_deviceId` WHERE (`customer_id`=1) AND (`deviceId`='deviceId2')
2023-03-04 14:19:16.253 [DEBU] {aaea305ff12249173f08b25d8412869b} [  2 ms] [default] [recdb] [rows:3  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `identity` IN('identity11') ORDER BY `id` DESC
2023-03-04 14:19:16.254 [DEBU] {be60585ff12249174008b25dc91dbc56} [  0 ms] [default] [recdb] [rows:5  ] SELECT `id` FROM `test_cert_info` GROUP BY `identity`
2023-03-04 14:19:16.257 [DEBU] {78ff685ff12249174108b25dcaa0373e} [  2 ms] [default] [recdb] [rows:5  ] SELECT `id`,`version`,`identity`,`cert_type`,`issuer_identity`,`subject`,`validity_notbefore`,`validity_notafter`,`customer_name`,`customer_idcard`,`customer_id`,`serial_number`,`status`,`created_at`,`updated_at` FROM `test_cert_info` WHERE `id` IN('1','6','7','4','5') ORDER BY `id` DESC
